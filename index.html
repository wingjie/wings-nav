<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>无缝循环滚动文字</title>
  <style>
    body {
      overflow: hidden;
    }

    /* 包裹容器 */
    .scroll-container {
      width: 100%;
      /* 容器宽度 */
      overflow: hidden;
      /* 隐藏超出容器的内容 */
      white-space: nowrap;
      /* 防止文字换行 */
      background-color: #f0f0f0;
      font-size: 24px;
      box-sizing: border-box;
      display: flex;
    }

    /* 滚动内容 */
    .scroll-content {
      display: inline-flex;
      /* 水平排列内容 */
      white-space: nowrap;
      animation: scroll 10s linear infinite;
      /* 无限滚动动画 */
    }

    /* 定义滚动动画 */
    @keyframes scroll {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(-50%);
      }
    }

    ul {
      height: 50vh;
      overflow-y: scroll;
    }
  </style>
</head>

<body>

  <div class="scroll-container" id="scrollContainer">
    <div class="scroll-content" id="scrollContent">
      <span>这是循环滚动的文字内容，可以替换成你想要的文字。这是循环滚动的文字内容，可以替换成你想要的文字。1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
      <span>这是循环滚动的文字内容，可以替换成你想要的文字。这是循环滚动的文字内容，可以替换成你想要的文字。1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    </div>
  </div>
  <ul style="border: 1px solid pink">
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
    <li>12</li>
  </ul>
  <div id="test"></div>
  <div>123</div>
  <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
  <script>
    // VConsole 默认会挂载到 `window.VConsole` 上
    var vConsole = new window.VConsole();
  </script>

  <script>
    document.querySelector('body').addEventListener('touchmove', function (e) {
      e.preventDefault()
    })
    // 判断是Android还是ios
    function terminal() {
      var u = navigator.userAgent;
      var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
      var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端

      if (isAndroid) {
        return 'Android'
      } else if (isiOS) {
        return 'iOS'
      }
      return 'other'
    }
    console.log(terminal(), 'terminal');
    document.querySelector("#test").innerHTML = terminal();
    (function () {
      // if (terminal() !== "ios") return;
      let startY, endY;
      const scrollThreshold = 10; // 滑动距离阈值

      window.addEventListener("touchstart", function (e) {
        startY = e.touches[0].pageY;
      }, {
        passive: false
      });

      window.addEventListener("touchmove", function (e) {
        endY = e.touches[0].pageY;
        const deltaY = endY - startY;

        const isAtTop = window.scrollY <= 0;
        const isAtBottom = window.scrollY + window.innerHeight >= document.documentElement.scrollHeight;

        console.log(deltaY, isAtTop, isAtBottom, 'deltaY', (deltaY > scrollThreshold && isAtTop) || (deltaY < -
          scrollThreshold && isAtBottom))
        if ((deltaY > scrollThreshold && isAtTop) || (deltaY < -scrollThreshold && isAtBottom)) {
          e.preventDefault();
        }
      }, {
        passive: false
      });
    });

    // (function () {
    //   // if (terminal() !== "ios") return;
    //   let startY, endY;
    //   const scrollThreshold = 10; // 滑动距离阈值

    //   window.addEventListener("touchstart", function (e) {
    //     startY = e.touches[0].pageY;
    //   }, {
    //     passive: false
    //   });

    //   window.addEventListener("touchmove", function (e) {
    //     endY = e.touches[0].pageY;
    //     const deltaY = endY - startY;

    //     const isAtTop = window.scrollY <= 0;
    //     const isAtBottom = window.scrollY + window.innerHeight >= document.documentElement.scrollHeight;

    //     // 只有在试图滚动超出边界时才阻止默认行为
    //     if (deltaY > scrollThreshold && isAtTop) {
    //       e.preventDefault();
    //     } else if (deltaY < -scrollThreshold && isAtBottom) {
    //       e.preventDefault();
    //     } else {
    //       // 允许正常的滚动行为
    //       startY = endY; // 更新startY，以便下次计算deltaY
    //     }
    //   }, {
    //     passive: false
    //   });
    // })();
  </script>

</body>

</html>
